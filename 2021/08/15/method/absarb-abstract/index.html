<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>PDF格式论文摘要提取及自动GOOGLE翻译 | 如果值得，那就去做吧！</title><meta name="author" content="彼岸寻真"><meta name="copyright" content="彼岸寻真"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="看起来文章充分的样子3 2023-04-19 翻到了以前准备的学位英语听力材料，以及的学习方法只是显得花里胡哨的，特此分享下当时的东西。 2021-04-15 该文章写于中国科学院大学中关村校区，文中涉及到的代码和原文件在附录给出。  引言 昨天分析了如何进行python进行爬虫爬取sci-hub上的论文，对于‘研究新手’该方法可以通过关键词进行快速下载相关领域的大量论文，通过广泛而又密切的关注研">
<meta property="og:type" content="article">
<meta property="og:title" content="PDF格式论文摘要提取及自动GOOGLE翻译">
<meta property="og:url" content="https://seekflow.tech/2021/08/15/method/absarb-abstract/index.html">
<meta property="og:site_name" content="如果值得，那就去做吧！">
<meta property="og:description" content="看起来文章充分的样子3 2023-04-19 翻到了以前准备的学位英语听力材料，以及的学习方法只是显得花里胡哨的，特此分享下当时的东西。 2021-04-15 该文章写于中国科学院大学中关村校区，文中涉及到的代码和原文件在附录给出。  引言 昨天分析了如何进行python进行爬虫爬取sci-hub上的论文，对于‘研究新手’该方法可以通过关键词进行快速下载相关领域的大量论文，通过广泛而又密切的关注研">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://pic1.win4000.com/wallpaper/b/58070e36a50f4.jpg">
<meta property="article:published_time" content="2021-08-15T14:01:13.000Z">
<meta property="article:modified_time" content="2023-04-21T14:01:13.000Z">
<meta property="article:author" content="彼岸寻真">
<meta property="article:tag" content="python">
<meta property="article:tag" content="文本提取">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://pic1.win4000.com/wallpaper/b/58070e36a50f4.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://seekflow.tech/2021/08/15/method/absarb-abstract/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//www.clarity.ms"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="manifest" href="/pwa/manifest.json"/><link rel="apple-touch-icon" sizes="180x180" href="/pwa/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/pwa/32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/pwa/16.png"/><link rel="mask-icon" href="/pwa/safari-pinned-tab.svg" color="#5bbad5"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-YY1756M9ZK"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'G-YY1756M9ZK')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'G-YY1756M9ZK', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "gps13yhkyv");</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 彼岸寻真","link":"链接: ","source":"来源: 如果值得，那就去做吧！","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"已切换为繁体中文","cht_to_chs":"已切换为简体中文","day_to_night":"已切换为深色模式","night_to_day":"已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-center"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'PDF格式论文摘要提取及自动GOOGLE翻译',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load', preloader.endLoading)

  if (true) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="web_bg" style="background-image: url(url(https://twbucket.oss-cn-beijing.aliyuncs.com/DSC03995.jpg));"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/favicon.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-camera-retro"></i><span> 摄影</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/photography/Character/"><i class="fa-fw fas fas fa-face-smile"></i><span> 人物</span></a></li><li><a class="site-page child" href="/photography/Scenery/"><i class="fa-fw fas fas fa-asterisk"></i><span> 风景</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-newspaper"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/Guestbook/"><i class="fa-fw fas fa-envelope"></i><span> 留言</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-camera-male"></i><span> 关于</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/about/me"><i class="fa-fw fas fa-male"></i><span> 作者介绍</span></a></li><li><a class="site-page child" href="/day-night/"><i class="fa-fw fas fa-user-secret"></i><span> 作者日常</span></a></li><li><a class="site-page child" href="/Subscription/"><i class="fa-fw fas fa-balance-scale"></i><span> 订阅服务</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 大佬链接</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(http://pic1.win4000.com/wallpaper/b/58070e36a50f4.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/favicon.png" alt="Logo"></a><a class="nav-page-title" href="/"><span class="site-name">PDF格式论文摘要提取及自动GOOGLE翻译</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-camera-retro"></i><span> 摄影</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/photography/Character/"><i class="fa-fw fas fas fa-face-smile"></i><span> 人物</span></a></li><li><a class="site-page child" href="/photography/Scenery/"><i class="fa-fw fas fas fa-asterisk"></i><span> 风景</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-newspaper"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/Guestbook/"><i class="fa-fw fas fa-envelope"></i><span> 留言</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-camera-male"></i><span> 关于</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/about/me"><i class="fa-fw fas fa-male"></i><span> 作者介绍</span></a></li><li><a class="site-page child" href="/day-night/"><i class="fa-fw fas fa-user-secret"></i><span> 作者日常</span></a></li><li><a class="site-page child" href="/Subscription/"><i class="fa-fw fas fa-balance-scale"></i><span> 订阅服务</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 大佬链接</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">PDF格式论文摘要提取及自动GOOGLE翻译</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-08-15T14:01:13.000Z" title="发表于 2021-08-15 22:01:13">2021-08-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-04-21T14:01:13.000Z" title="更新于 2023-04-21 22:01:13">2023-04-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%96%B9%E6%B3%95/">方法</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%96%B9%E6%B3%95/PDF%E6%96%87%E6%9C%AC%E6%8F%90%E5%8F%96/">PDF文本提取</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>8分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:300,&quot;messagePrev&quot;:&quot;It has been&quot;,&quot;messageNext&quot;:&quot;days since the last update, the content of the article may be outdated.&quot;,&quot;postUpdate&quot;:&quot;2023-04-21 22:01:13&quot;}" hidden></div><div class="timeline  blue"><div class="timeline-item headline"><div class="timeline-item-title"><div class="item-circle"><p>看起来文章充分的样子3</p>
</div></div></div><div class="timeline-item"><div class="timeline-item-title"><div class="item-circle"><p>2023-04-19</p>
</div></div><div class="timeline-item-content"><p>翻到了以前准备的学位英语听力材料，以及的学习方法<del>只是显得花里胡哨的</del>，特此分享下当时的东西。</p>
</div></div><div class="timeline-item"><div class="timeline-item-title"><div class="item-circle"><p>2021-04-15</p>
</div></div><div class="timeline-item-content"><p>该文章写于中国科学院大学中关村校区，文中涉及到的代码和原文件在附录给出。</p>
</div></div></div>
<h1>引言</h1>
<p>昨天分析了如何进行python进行爬虫爬取sci-hub上的论文，对于‘研究新手’该方法可以通过关键词进行快速下载相关领域的大量论文，通过广泛而又密切的关注研读论文可以快速的累积专业知识，快速提升自我。</p>
<p>那么在上回分析中产生的大量文献该如何阅读呢？甚至更难的是对于非英语母语的同学，在阅读英语文献的时候更加显得头大，那么也没有什么快速的方法进行英语文献的阅读学习呢？答案是有的，在本文中将介绍提取英语文献中的摘要部分并提供其相应的中文翻译，其效果见图（左侧是预期结果，右侧是运行结果）：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog-1305709348.cos.ap-beijing.myqcloud.com/202304212201694.png" alt="img"></p>
<h1>方法</h1>
<div class="tip home"><p>难点</p>
</div>
<ul>
<li>如何提取摘要</li>
<li>如何读入PDF文件</li>
<li>如何翻译的更好</li>
</ul>
<div class="tip home"><p>需要完善的地方</p>
</div>
<ul>
<li>对于没有‘Abstract’或‘Intraction’等文章不能很好识别</li>
<li>对于图像形式等文章无法完成</li>
<li>google翻译可能存在不足（相对其他翻译好很多了）</li>
</ul>
<div class="tip home"><p>改善方向</p>
</div>
<ul>
<li>添加图像识别文章摘要</li>
<li>增加对没有‘Abstract’或‘Intraction’等文章的摘要识别</li>
<li>考虑使用深度学习的方法优化翻译结果</li>
</ul>
<h2 id="代码实现">代码实现</h2>
<h3 id="python读取pdf论文">python读取PDF论文</h3>
<div class="tip home"><p>必要库 pdfminer3k的安装：进行PDF文件读取</p>
</div>
<p>安装方法为：<code>pip install pdfminer3k</code>或anacoda用户<code>condainstall pdfminer3k</code>。</p>
<div class="tip home"><p>完整的代码</p>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> StringIO</span><br><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> <span class="built_in">open</span></span><br><span class="line"><span class="keyword">from</span> pdfminer.converter <span class="keyword">import</span> TextConverter</span><br><span class="line"><span class="keyword">from</span> pdfminer.layout <span class="keyword">import</span> LAParams</span><br><span class="line"><span class="keyword">from</span> pdfminer.pdfinterp <span class="keyword">import</span> PDFResourceManager, process_pdf</span><br><span class="line"><span class="keyword">from</span> requests.api <span class="keyword">import</span> get</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line">logging.Logger.propagate = <span class="literal">False</span></span><br><span class="line">logging.getLogger().setLevel(logging.ERROR)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_abstract</span>(<span class="params">pdf</span>):</span><br><span class="line">    <span class="comment"># resource manager</span></span><br><span class="line">    rsrcmgr = PDFResourceManager()</span><br><span class="line">    retstr = StringIO()</span><br><span class="line">    laparams = LAParams()</span><br><span class="line">    <span class="comment"># device</span></span><br><span class="line">    device = TextConverter(rsrcmgr, retstr, laparams=laparams)</span><br><span class="line">    process_pdf(rsrcmgr, device, pdf)</span><br><span class="line">    device.close()</span><br><span class="line">    content = retstr.getvalue()</span><br><span class="line">    retstr.close()</span><br><span class="line">    <span class="comment"># 获取所有行</span></span><br><span class="line">    pdf_contant = <span class="built_in">str</span>(content).split(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> pdf_contant</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    file = <span class="string">&#x27;bubble_erengy/10.1017_jfm.2016.281.pdf&#x27;</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> my_pdf:</span><br><span class="line">            p = get_abstract(my_pdf)</span><br></pre></td></tr></table></figure>
<div class="tip home"><p>代码<code>get_abstract()</code>的实现思路</p>
</div>
<ul>
<li><code>resource manager</code>与<code>device</code>不解释了，需要详细了解的同学参考官方文档</li>
<li>通过调用<code>retstr.getvalue()</code>得到pdf的内容并传送给<code>content</code></li>
<li>通过调用<code>split(&quot;\n&quot;)</code>把<code>content</code>变成列表，并删除换行<code>\n</code>得到pdf_contant</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog-1305709348.cos.ap-beijing.myqcloud.com/202304212201818.png" alt="img"></p>
<div class="tip home"><p>多种不同格式文章的摘要提取思路</p>
</div>
<ul>
<li>对于标准格式的论文（如图），通过匹配“Abstract”关键词把摘要提取出来。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog-1305709348.cos.ap-beijing.myqcloud.com/202304212201986.png" alt="img"></p>
<ul>
<li>对于没有“Abstract”关键词的论文，可以匹配“introduction”进行匹配。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog-1305709348.cos.ap-beijing.myqcloud.com/202304212201309.png" alt="img"></p>
<ul>
<li>对于即没有“Abstract”又没有“introduction”关键词，需要看文章结构（或期刊文章特点）专项匹配。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog-1305709348.cos.ap-beijing.myqcloud.com/202304212201397.png" alt="img"></p>
<p>对于1，2情况，可编写函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正则匹配&#x27;摘要&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_Abstract</span>(<span class="params">pdf_contant</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> pdf_contant:</span><br><span class="line">        c = re.<span class="keyword">match</span>(<span class="string">r&#x27;(.*)ABSTRACT(.*?)&#x27;</span>, i, re.M | re.I | re.S)</span><br><span class="line">        <span class="keyword">if</span> c:</span><br><span class="line">            <span class="keyword">return</span> c.group()</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># 正则匹配&#x27;引言&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_Introduction</span>(<span class="params">pdf_contant</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> pdf_contant:</span><br><span class="line">        c = re.<span class="keyword">match</span>(<span class="string">r&#x27;(.*)INTRODUCTION(.*?)&#x27;</span>, i, re.M | re.I | re.S)</span><br><span class="line">        <span class="keyword">if</span> c:</span><br><span class="line">            <span class="keyword">return</span> c.group()</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>若是找到匹配项则返回匹配值，通过它反向定位在<code>pdf_contant</code>中的位置，从而进行摘要输出（此处正则方法需要重点掌握）。随后，在上步骤得到的结果后进行提取摘要：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获得摘要起末位置</span></span><br><span class="line">    num = <span class="number">0</span>  <span class="comment"># 文章类别判断</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            c = get_Introduction(pdf_contant)</span><br><span class="line">            star = pdf_contant.index(c, <span class="number">1</span>)-<span class="number">7</span>  <span class="comment"># 匹配一次引言</span></span><br><span class="line">            <span class="keyword">while</span> pdf_contant[star] != <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">                star = star-<span class="number">1</span></span><br><span class="line">            star = star+<span class="number">1</span></span><br><span class="line">            num = <span class="number">2</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;%s有引言!&quot;</span> % title)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            c = get_Abstract(pdf_contant)</span><br><span class="line">            star = content.index(c, <span class="number">1</span>)+<span class="number">2</span>  <span class="comment"># 匹配一次摘要</span></span><br><span class="line">            num = <span class="number">1</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;%s有摘要!&quot;</span> % title)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        num = <span class="number">0</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;文章%s提取摘要失败，即无摘要也无引言&#x27;</span> % title)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h2 id="swig-12-摘要的同步翻译"><del>花里胡哨的功能</del> 摘要的同步翻译</h2>
<p>对于翻译，有很多种方法，以下列举几条常用的方法：</p>
<ul>
<li>通过爬虫，调用翻译网址得到翻译结果；一般来说翻译效果不太好</li>
<li>通过各大公司提供的api进行翻译；付费效果超赞</li>
<li>通过自带的库进行调用；方便操作但问题是不太稳定，本质上还是调用api或网页爬虫</li>
</ul>
<p>提取及翻译结果：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">..........................................................</span><br><span class="line">10.1103_PhysRevE.94.033109.pdf</span><br><span class="line">A theoretical model is developed for acoustic streaming generated by a cylindrical bubble conﬁned in a ﬂuidchannel between two planar elastic walls. The bubble is assumed to undergo volume and translational oscillations.The volume oscillation is caused by an imposed acoustic pressure ﬁeld and generates the bulk scattered wavein the ﬂuid gap and Lamb-type surface waves propagating along the ﬂuid-wall interfaces. The translationaloscillation is induced by the velocity ﬁeld of an external sound source such as another bubble or an oscillatoryﬂuid ﬂow. The acoustic streaming is assumed to result from the interaction of the volume and the translationalmodes of the bubble oscillations. The general solutions for the linear equations of ﬂuid motion and the equationsof acoustic streaming are calculated with no restrictions on the ratio between the viscous penetration depth and thebubble size. Approximate solutions for the limit of low viscosity are provided as well. Simulations of streamlinepatterns show that the geometry of the streaming resembles ﬂows generated by a source dipole, while the vortexorientation is governed by the driving frequency, bubble size, and the distance of the bubble from the source oftranslational excitation. Experimental veriﬁcation of the developed theory is performed using data for streaminggenerated by bubble pairs.</span><br><span class="line">开发了一个理论模型，用于由限制在两个平面弹性壁之间的流体通道中的圆柱形气泡产生的声流。假设气泡经历体积和平移振荡。体积振荡是由施加的声压场引起的，并在流体间隙中产生体散射波和沿流体壁界面传播的兰姆型表面波。平移振荡是由外部声源（例如另一个气泡或振荡流体流）的速度场引起的。假设声流是由体积和气泡振荡的平移模式的相互作用引起的。流体运动线性方程和声流方程的通解是在不限制粘性渗透深度与气泡大小的比值的情况下计算的。还提供了低粘度极限的近似解。流线模式的模拟表明，流的几何形状类似于源偶极子产生的流动，而涡流方向受驱动频率、气泡大小和气泡与平移激发源的距离控制。使用由气泡对生成的流数据对所开发的理论进行实验验证。</span><br><span class="line"></span><br><span class="line">10.1103_PhysRevE.100.033105.pdf</span><br><span class="line">This paper continues a study that was started in our previous paper [A. A. Doinikov et al., Phys. Rev. E 100,033104 (2019)]. The overall aim of the study is to develop a theory for modeling the velocity ﬁeld of acousticmicrostreaming produced by nonspherical oscillations of an acoustically driven gas bubble. In the previouspaper, general equations were derived that describe the velocity ﬁeld of acoustic microstreaming produced bymodes n and m of bubble oscillations. In the present paper, the above equations are solved analytically in thecase that acoustic microstreaming is the result of the interaction of the translational mode (mode 1) with a modeof arbitrary order m (cid:2) 1. Solutions are expressed in terms of complex mode amplitudes, which means that themode amplitudes are assumed to be known and serve as input data for the calculation of the velocity ﬁeld ofacoustic microstreaming. No restrictions are imposed on the ratio of the bubble radius to the viscous penetrationdepth. Analytical results are illustrated by numerical examples.</span><br><span class="line">本文继续了我们之前的论文 [A. A. Doinikov 等人，物理学。修订版 E 100,033104 (2019)]。该研究的总体目标是开发一种理论来模拟由声驱动气泡的非球形振荡产生的声微流速度场。在前一篇论文中，推导出了描述由气泡振荡的模式 n 和 m 产生的声学微流速度场的一般方程。在本文中，在声微流是平移模式（模式 1）与任意阶数 m (cid:2) 1 的模式相互作用的结果的情况下，对上述方程进行了解析求解。 解以复数形式表示模式幅度，这意味着模式幅度被假定为已知，并作为计算声微流速度场的输入数据。气泡半径与粘性渗透深度的比率没有限制。分析结果由数值例子说明。</span><br><span class="line">...........................................................</span><br></pre></td></tr></table></figure>
<p>通过多日的正则、爬虫学习略有收获，对于学习需要热情、坚持以及方法。该项目是之前就一直有点想法，最近才有空认真学习，十分感谢很多博主的文章给我的思路，也非常期待更多同学的交流并对该项目进行改进。接下来一段时间将搁浅本项目，若有很大需求则会再次更新。</p>
<h2 id="5本文程序下载地址">5本文程序下载地址</h2>
<p><a target="_blank" rel="noopener" href="https://gitee.com/ZhenD_B/ML2020/blob/master/artical_abstract.zip">https://gitee.com/ZhenD_B/ML2020/blob/master/artical_abstract.zip</a></p>
<ul>
<li>密码：dgzs</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://seekflow.tech">彼岸寻真</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://seekflow.tech/2021/08/15/method/absarb-abstract/">https://seekflow.tech/2021/08/15/method/absarb-abstract/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://seekflow.tech" target="_blank">如果值得，那就去做吧！</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python/">python</a><a class="post-meta__tags" href="/tags/%E6%96%87%E6%9C%AC%E6%8F%90%E5%8F%96/">文本提取</a></div><div class="post-share"><div class="social-share" data-image="http://pic1.win4000.com/wallpaper/b/58070e36a50f4.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat_apply.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/wechat_apply.jpg" alt="微信支付"/></a><div class="post-qr-code-desc">微信支付</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2023/04/25/perception/87%E7%89%88%E7%BA%A2%E6%A5%BC%E6%A2%A6%E7%B2%BE%E5%BD%A9%E6%88%AA%E5%9B%BE/" title="87版红楼梦精彩截图"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://pic1.win4000.com/wallpaper/b/58070e36a50f4.jpg" onerror="onerror=null;src='/img/error-page.png'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">87版红楼梦精彩截图</div></div><div class="info-2"><div class="info-item-1">近来无事，突然想提高下自己的文学素养，开始看名著，挑了红楼梦，体会里面的人生百态。</div></div></div></a><a class="pagination-related" href="/2021/08/14/method/sci-paper-download/" title="sci-hub论文爬虫"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog-1305709348.cos.ap-beijing.myqcloud.com/202304212056871.png" onerror="onerror=null;src='/img/error-page.png'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">sci-hub论文爬虫</div></div><div class="info-2"><div class="info-item-1">想着快点让新博客看着充实，已经很努力了.....本文略水。</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2021/08/14/method/sci-paper-download/" title="sci-hub论文爬虫"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog-1305709348.cos.ap-beijing.myqcloud.com/202304212056871.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-14</div><div class="info-item-2">sci-hub论文爬虫</div></div><div class="info-2"><div class="info-item-1">想着快点让新博客看着充实，已经很努力了.....本文略水。</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.1.</span> <span class="toc-text">代码实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#python%E8%AF%BB%E5%8F%96pdf%E8%AE%BA%E6%96%87"><span class="toc-number">2.1.1.</span> <span class="toc-text">python读取PDF论文</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#swig-12-%E6%91%98%E8%A6%81%E7%9A%84%E5%90%8C%E6%AD%A5%E7%BF%BB%E8%AF%91"><span class="toc-number">2.2.</span> <span class="toc-text">花里胡哨的功能 摘要的同步翻译</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E6%9C%AC%E6%96%87%E7%A8%8B%E5%BA%8F%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80"><span class="toc-number">2.3.</span> <span class="toc-text">5本文程序下载地址</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By 彼岸寻真</div><div class="footer_custom_text">一切都是最好的安排～</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const $chartjs = document.querySelectorAll('#article-container .chartjs-container')
  if ($chartjs.length === 0) return

  const applyThemeDefaultsConfig = theme => {
    if (theme === 'dark-mode') {
      Chart.defaults.color = "rgba(255, 255, 255, 0.8)"
      Chart.defaults.borderColor = "rgba(255, 255, 255, 0.2)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    } else {
      Chart.defaults.color = "rgba(0, 0, 0, 0.8)"
      Chart.defaults.borderColor = "rgba(0, 0, 0, 0.1)"
      Chart.defaults.scale.ticks.backdropColor = "transparent"
    }
  }

  // Recursively traverse the config object and automatically apply theme-specific color schemes
  const applyThemeConfig = (obj, theme) => {
    if (typeof obj !== 'object' || obj === null) return
    
    Object.keys(obj).forEach(key => {
      const value = obj[key]
      // If the property is an object and has theme-specific options, apply them
      if (typeof value === 'object' && value !== null) {
        if (value[theme]) {
          obj[key] = value[theme] // Apply the value for the current theme
        } else {
          // Recursively process child objects
          applyThemeConfig(value, theme)
        }
      }
    })
  }

  const runChartJS = () => {
    window.loadChartJS = true

    Array.from($chartjs).forEach((item, index) => {
      const chartSrc = item.firstElementChild
      const chartID = item.getAttribute('data-chartjs-id') || ('chartjs-' + index) // Use custom ID or default ID
      const width = item.getAttribute('data-width')
      const existingCanvas = document.getElementById(chartID)

      // If a canvas already exists, remove it to avoid rendering duplicates
      if (existingCanvas) {
          existingCanvas.parentNode.remove()
      }

      const chartDefinition = chartSrc.textContent
      const canvas = document.createElement('canvas')
      canvas.id = chartID

      const div = document.createElement('div')
      div.className = 'chartjs-wrap'

      if (width) {
        div.style.width = width
      }

      div.appendChild(canvas)
      chartSrc.insertAdjacentElement('afterend', div)

      const ctx = document.getElementById(chartID).getContext('2d')

      const config = JSON.parse(chartDefinition)

      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark-mode' : 'light-mode'

      // Set default styles (initial setup)
      applyThemeDefaultsConfig(theme)

      // Automatically traverse the config and apply dual-mode color schemes
      applyThemeConfig(config, theme)

      new Chart(ctx, config)
    })
  }

  const loadChartJS = () => {
    window.loadChartJS ? runChartJS() : btf.getScript('https://cdn.jsdelivr.net/npm/chart.js/dist/chart.umd.min.js').then(runChartJS)
  }

  // Listen for theme change events
  btf.addGlobalFn('themeChange', runChartJS, 'chartjs')
  btf.addGlobalFn('encrypt', runChartJS, 'chartjs')

  window.pjax ? loadChartJS() : document.addEventListener('DOMContentLoaded', loadChartJS)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.isShuoshuo
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo-data-p1nc31d9j-bternity.vercel.app',
      region: 'ap-shanghai',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://twikoo-data-p1nc31d9j-bternity.vercel.app',
      region: 'ap-shanghai',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: true,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      pjax.loadUrl('/404.html')
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementsByClassName('recent-posts')[0];
      var item_html = '<style>li.categoryBar-list-item{width:24%;}.categoryBar-list{max-height: 190px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 160px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover1.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/方法/&quot;);" href="javascript:void(0);">方法</a><span class="categoryBar-list-count">6</span><span class="categoryBar-list-descr">小起步，稳成长，耕耘不辍，扬帆破浪。</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover2.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/方法/软件安装/&quot;);" href="javascript:void(0);">软件安装</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">勤记录学习，详述技术，日积月累，成就非凡。</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover3.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/方法/爬虫/&quot;);" href="javascript:void(0);">爬虫</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr">事物如棋，人心是局，明察秋毫，洞见全局。</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover4.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/方法/数学求解/&quot;);" href="javascript:void(0);">数学求解</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">个人日记</span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/方法/机器学习/&quot;);" href="javascript:void(0);">机器学习</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/方法/PDF文本提取/&quot;);" href="javascript:void(0);">PDF文本提取</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/观影/&quot;);" href="javascript:void(0);">观影</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/理论/&quot;);" href="javascript:void(0);">理论</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/理论/计算流体力学/&quot;);" href="javascript:void(0);">计算流体力学</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/理论/计算流体力学/网格生成/&quot;);" href="javascript:void(0);">网格生成</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li></ul></div></div>';
      console.log('已挂载butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementsByClassName('recent-posts')[0] && (location.pathname ==='all'|| 'all' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '1s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '100');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --></body></html>